{% extends "base.html" %}
{% load static %}

{% block title %}{{profile.get_full_name}}{% endblock %}

{% block loadscripts %}
<script src="{% static 'js/contact_buttons.js' %}"></script>
{% endblock loadscripts %}

{% block content %}
  <h1>{{ profile.get_full_name }}</h1>
    <p><img src="{{profile.photo_url}}" class="profile-detail"></img></p>
    <p>Username: {{profile.profilename}}</p>
    <p>First Name: {{profile.first_name}}</p>
    <p>Last Name: {{profile.last_name}}</p>

    {% with total_followers=profile.followers.count %}
      <span class="count">
        <span class="total">{{total_followers}}</span>
        follower{{total_followers|pluralize}}
      </span>
      {% if user not in profile.followers.all %}
        <button data-id="{{profile.id}}" data-action="follow" class="btn btn-primary follow">Follow
      {% else %}
        <button data-id="{{profile.id}}" data-action="unfollow" class="btn btn-primary follow">Unfollow
      {% endif %}
      </button>

    {% endwith %}
{% endblock %}

{% block domready %}
  followButton('{% url "user_follow" %}');
{% endblock %}
