{% extends "base.html" %}
{% load static %}

{% block title %}{{profile.get_full_name}}{% endblock %}

{% block loadscripts %}
<script src="{% static 'js/contact_buttons.js' %}"></script>
{% endblock loadscripts %}

{% block content %}

<div class="d-flex">
    <h1 class="col-12">{{ profile.get_full_name }}</h1>

  {% with total_followers=profile.followers.count %}

  <div class="d-flex col-lg-6 img-fluid"><img src="{{profile.photo_url}}"></div>

  <div class="col">
    <p class="col">Username: {{profile.profilename}}</p>
    <p class="col">First Name: {{profile.first_name}}</p>
    <p class="col">Last Name: {{profile.last_name}}</p>
    <p class="col">
      Total Followers: {{total_followers}} follower{{total_followers|pluralize}}
    </p>

    {% if user not in profile.followers.all %}
    <button data-id="{{profile.id}}" data-action="follow"
            class="btn btn-primary btn-lg follow">Follow

    {% else %}
    <button data-id="{{profile.id}}" data-action="unfollow"
            class="btn btn-primary follow">Unfollow

    {% endif %}
  </div>
  {% endwith %}
</div>

{% endblock content %}

{% block domready %}
followButton('{% url "user_follow" %}');
{% endblock domready %}
